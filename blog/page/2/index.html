
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>make clean; make</title>
  <meta name="author" content="pankona">

  
  <meta name="description" content="Raspberry Piをリモートから制御する第一歩として、
ネットワーク越しに、AndroidアプリからLチカさせてみる、をやってみた。
いまのところ実にしょうもないレベルであるが、最初は誰もがしょうもなかったと言い聞かせつつ、
やったことを公開しつつ、どんなあんばいだったか記録しておこうと思う &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://pankona.github.io/blog/page/2">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="make clean; make" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-48476608-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">make clean; make</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:pankona.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/25/remote-ltika/">Raspberry Piにて、リモートからLチカさせてみた</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-11-25T22:16:43+09:00" pubdate data-updated="true">Nov 25<span>th</span>, 2014</time>
        
           | <a href="/blog/2014/11/25/remote-ltika/#disqus_thread"
             data-disqus-identifier="http://pankona.github.io/blog/2014/11/25/remote-ltika/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Raspberry Piをリモートから制御する第一歩として、<br>
ネットワーク越しに、AndroidアプリからLチカさせてみる、をやってみた。<br>
いまのところ実にしょうもないレベルであるが、最初は誰もがしょうもなかったと言い聞かせつつ、<br>
やったことを公開しつつ、どんなあんばいだったか記録しておこうと思う。<br>
ちなみに、ここでいっているLEDとは、Raspberry Piボード上のLED &quot;ACT&quot; を指している。<br>
ブレッドボードやらそういった類の何かは使っていない。</p>

<h3 id="構成">構成</h3>

<ul>
<li>Raspberry Pi （OSはArch Linux） 有線LAN接続

<ul>
<li>Railsが動いていて、REST APIを公開している。</li>
<li>REST APIを叩くことで、LEDのON/OFFを制御するスクリプトが動作し、Lチカを実現する。</li>
</ul></li>
<li>Androidアプリ

<ul>
<li>ボタンが2個ついてるだけの超絶シンプルアプリ</li>
<li>ONボタンを押すとLEDを点けるほうのREST APIを叩きにいく。</li>
<li>同様に、OFFボタンを押すとLEDを消すREST APIを叩きにいく。</li>
<li>対向機のIPアドレスはまさかのハードコーディング。</li>
</ul></li>
</ul>

<h3 id="ソースコード">ソースコード</h3>

<ul>
<li>Raspberry Pi側のソースコードは<a href="https://github.com/pankona/raspi_remote_blink">こちら</a>。Railsアプリ。</li>
<li>Android側のアプリは後ほどアップロード（手元になかった）。</li>
</ul>

<h3 id="今後に向けてメモ">今後に向けてメモ</h3>

<ul>
<li>Railsアプリは、スクリプトへのパスがハードコードされていたりしてだいぶ恥ずかしいので、そのうち直す。</li>
<li>というかファイルI/OすればLチカできることがわかったので、もはやスクリプトを使う必要はなかった。そのうち直す。</li>
<li>応用して、自動草花への水やり機の作成を目論んでおく。できたら画像と共にアップロードしよう。</li>
<li>カメラと合わせて、水やりしつつ、草の成長記録をツイッターに投稿する、というのもいいかもしれない。</li>
<li>ツイッター越しに命令（水やり、写真撮影、等）を発行できるようにしてもいいかもしれない。</li>
</ul>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/10/01/dokusho-meter/">Octopressカスタマイズで読書メーターのブログパーツを追加</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-10-01T22:41:26+09:00" pubdate data-updated="true">Oct 1<span>st</span>, 2014</time>
        
           | <a href="/blog/2014/10/01/dokusho-meter/#disqus_thread"
             data-disqus-identifier="http://pankona.github.io/blog/2014/10/01/dokusho-meter/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>たまにはブログのカスタマイズをしてみる。<br>
今回は読書メーターのブログパーツを追加してみた。</p>

<p>サイドバーに「最近読んだ本」なんてのが現れるようにしてみた。<br>
文字ばっかだったブログにちょっと賑やかし感があって良い。</p>

<p>例によって備忘録的にやり方を残しておく。<br>
Octopressに読書メーターのブログパーツを追加する方法。</p>

<h3 id="読書メーターのアカウントを取得する">読書メーターのアカウントを取得する</h3>

<p><a href="http://book.akahoshitakuya.com/">読書メーターのウェブページ</a>からどうぞ。</p>

<h3 id="ブログパーツを選ぶ">ブログパーツを選ぶ</h3>

<p>読書メーターにログイン後、マイページに行ってみると、<br>
<strong>「ブログパーツ」</strong>と書いてあるところがある。<br>
そこを見ると各種ブログパーツを見つけることが出来る。</p>

<h3 id="octopressをカスタマイズして、サイドバーに出るように">Octopressをカスタマイズして、サイドバーに出るように</h3>

<p>ここからはOctopress側の編集。</p>

<h4 id="読書メーター用のhtmlを書く。">読書メーター用のHTMLを書く。</h4>

<p>中身は上記ブログパーツの内容をコピペしたものだが。<br>
ブログパーツとして「最近読んだ本」をチョイス。</p>

<figure class='code'><figcaption><span>source/_includes/custom/asides/dokusho_meter.html</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;section&gt;</span>
</span><span class='line'><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://book.akahoshitakuya.com/u/{人によって違うID}&quot;</span> <span class="na">title=</span><span class="s">&quot;{人の名前}の最近読んだ本&quot;</span><span class="nt">&gt;&lt;img</span> <span class="na">src=</span><span class="s">&quot;http://img.bookmeter.com/bp_image/640/509/{人によって違うID}.jpg&quot;</span> <span class="na">border=</span><span class="s">&quot;0&quot;</span> <span class="na">alt=</span><span class="s">&quot;{人の名前}の最近読んだ本&quot;</span><span class="nt">&gt;&lt;/a&gt;</span>
</span><span class='line'><span class="nt">&lt;/section&gt;</span>
</span></code></pre></td></tr></table></div></figure>

<h4 id="_config.ymlを編集して、サイドバーにパーツを追加">_config.ymlを編集して、サイドバーにパーツを追加</h4>

<p>_config.ymlのdefault_asidesを変更。読書メーター用HTMLファイルを指定。</p>

<figure class='code'><figcaption><span>_config.yml</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>default_asides: [custom/asides/about.html, asides/recent_posts.html, asides/github.html, asides/delicious.html,
</span><span class='line'>                 asides/pinboard.html, asides/googleplus.html, custom/asides/tag_cloud.html, custom/asides/category_list.html,
</span><span class='line'>                 custom/asides/dokusho_meter.html]
</span></code></pre></td></tr></table></div></figure>

<h4 id="deployしたら完了">deployしたら完了</h4>

<p><code>bundle exec rake gen_deploy</code> 的なことをやってデプロイする。</p>

<h3 id="ここまでで">ここまでで</h3>

<p>最近読んだ本がサイドバーに表示されるように。<br>
ITっぽい本を並べたりすると、なんとなく技術的なブログな雰囲気が出て、<br>
とてもいいんではないでしょうか。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/09/15/histryback-by-swipe-on-firefox/">二本指スワイプに戻る／進むを割り当てる方法 for Firefox on Arch Linux</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-09-15T00:30:08+09:00" pubdate data-updated="true">Sep 15<span>th</span>, 2014</time>
        
           | <a href="/blog/2014/09/15/histryback-by-swipe-on-firefox/#disqus_thread"
             data-disqus-identifier="http://pankona.github.io/blog/2014/09/15/histryback-by-swipe-on-firefox/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>ブラウザはFirefoxを好んで使っている。<br>
VimperatorとかPentadactylがあるおかげである。</p>

<p>いままで放置していた問題があって、それは二本指スワイプの挙動設定。</p>

<p>二本指で左右にスワイプしたときに、ヒストリーバック・ヒストリーフォワード、<br>
いわゆる「戻る」「進む」をやってほしいんだけど、これの設定がいまいちわからず、放置していた。<br>
ようやく設定方法がわかったので記しておく。そっこー忘れそうであるので。</p>

<p>ちなみに、「on Arch Linux」と題しているが、おそらくArchに限らないLinux全般の話ではないかと想像。<br>
UbuntuとArch Linux、どちらのFirefoxでもデフォルト設定では横方向二本指スワイプが仕事をしてくれなかったので。</p>

<p>では、以下設定手順。</p>

<h2 id="synclientの確認と設定">synclientの確認と設定</h2>

<p>そもそもタッチパッドのドライバーレベルで横方向スクロールが無効になっている可能性がある。というかなってた。<br>
なので、確認方法と設定変更方法。</p>

<h4 id="synclientコマンドを打って水平方向二本指スクロールの設定を確認する">synclientコマンドを打って水平方向二本指スクロールの設定を確認する</h4>

<p>以下のコマンドで現在の設定を確認できる。</p>

<p><code>$ synclient</code></p>

<p>ずらずらっと出てくる内容のうち、<code>HorizTwoFingerScroll</code> が確認対象の項目。<br>
値が「0」だったら無効になっている。有効にしない限り、いくら頑張って横スワイプしても効かない。</p>

<h4 id="synclientコマンドで水平方向二本指スクロールを有効にする">synclientコマンドで水平方向二本指スクロールを有効にする</h4>

<p>上の確認で有効だったらここは飛ばしてOK。無効だった場合、有効にするのは以下のコマンド。</p>

<p><code>$ synclient HorizTwoFingerScroll=1</code></p>

<p>synclientのほうはこれでOK。</p>

<h2 id="firefoxの設定">Firefoxの設定</h2>

<p>さらにFirefoxの設定を変えてやる必要がある。<br>
設定内容は<a href="https://wiki.archlinux.org/index.php/Touchpad_Synaptics">Touchpad Synaptics - Arch Linux Wiki</a>、Firefox 17.0 and laterの項を参考にした。</p>

<p>about:configを開く。設定内容は以下。</p>

<h4 id="マウスホイールのアクションを変更する">マウスホイールのアクションを変更する</h4>

<p><code>mousewheel.default.action.override_x = 2</code> とした。<br>
あんまりよく調べていないが、「2」が戻るアクションに対応している数字らしい。</p>

<h4 id="スワイプ方向を逆にする">スワイプ方向を逆にする</h4>

<p>デフォルトでは、左スワイプが「進む」、右スワイプが「戻る」になっている。<br>
逆な気がする。設定してこれを逆転させる。</p>

<p><code>mousewheel.default.delta_multiplier_x = -100</code> とした。</p>

<h4 id="感度を落とす">感度を落とす</h4>

<p>デフォルトではものすごく感度がよい。<br>
良すぎてしまって縦スワイプがちょっと横にぶれただけで戻ったり進んだりする。<br>
やりにくいので感度を落とす。</p>

<p><code>mousewheel.default.delta_multiplier_x = -10</code> とした。</p>

<h2 id="ここまでやって">ここまでやって</h2>

<p>とりあえず望む形（二本指で左スワイプで戻る、右スワイプで進む）に設定できた。結構ハードルあった。。<br>
ちなみにこれ、Mac OS向けFirefoxならデフォルトの挙動な模様。何の差なのか。。。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/07/23/raspi-touch-panel/">PiTFTのタッチパネルを動作させる</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-23T21:54:58+09:00" pubdate data-updated="true">Jul 23<span>rd</span>, 2014</time>
        
           | <a href="/blog/2014/07/23/raspi-touch-panel/#disqus_thread"
             data-disqus-identifier="http://pankona.github.io/blog/2014/07/23/raspi-touch-panel/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>前回に引き続き、PiTFTの話題。</p>

<p>前回でPiTFTにコンソール画面だったりXの画面だったりを出力させるところまでいった。<br>
タッチパネルの設定がまだだったので、手順を簡単に記しておく。</p>

<p>例によって、Raspberry PiにはArch Linuxが載っている前提。</p>

<h3 id="タッチパネルのドライバーをロードする">タッチパネルのドライバーをロードする</h3>

<p>前回、FBTFTがビルトインされているカーネルを以下のコマンドでインストールした。</p>

<p><code>$ sudo -E REPO_URI=https://github.com/notro/rpi-firmware BRANCH=builtin rpi-update</code></p>

<p>これが正しく入っていれば、タッチパネルのドライバもカーネルに含まれているはず。<br>
ただし、画面に何かを表示させる時と異なり、手動でドライバをロードする必要がある。</p>

<p>以下のコマンドで、タッチパネルのドライバをロードする。</p>

<p>@@@@ 忘れたのであとで追記する @@@@</p>

<p>基本的にはこれだけで動作すると思われる。<br>
例によって<a href="https://github.com/notro/fbtft/wiki">notroさんのところのWiki</a>に載っている内容だが、<br>
notroさんのところは充実しすぎて逆に迷う気がするので、備忘録的に残しておくことにする。。</p>

<h3 id="動いているか確かめる方法">動いているか確かめる方法</h3>

<p>evtestを用いて確かめられる。<br>
evtestを起動したのちにタッチパネルをぐりぐり触ってみると、<br>
タッチイベントの詳細がコンソールに出力される。</p>

<p>また、正常にドライバがロードされると、<code>/dev/input/touchpanel</code>なるファイルが現れるはずである。<br>
ちなみにこれはeventXへのシンボリックリンクになっている。<br>
このファイルの有無でもドライバのロードが正しく行われたか判断できると思われる。</p>

<h3 id="要追記事項">要追記事項</h3>

<ul>
<li>ドライバロードのコマンドをちゃんと確認する。</li>
<li>キャリブレーション（回転した画面への対応）の方法。</li>
</ul>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/07/17/pitft-on-arch-linux/">PiTFTをArch Linux on Raspberry Piで動かすのに苦戦</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-17T21:11:11+09:00" pubdate data-updated="true">Jul 17<span>th</span>, 2014</time>
        
           | <a href="/blog/2014/07/17/pitft-on-arch-linux/#disqus_thread"
             data-disqus-identifier="http://pankona.github.io/blog/2014/07/17/pitft-on-arch-linux/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>2014/07/23/Wed 追記</strong></p>

<p>以下のポストに誤りがあることがわかったので、訂正。<br>
誤っている部分には打ち消し線を入れておく。</p>

<hr>

<p><a href="http://www.adafruit.com/products/1601">PiTFT</a>を購入。<br>
さっそくRaspberry Piで動かそうとしてみたところ、これがなかなかうまくいかず。<br>
3日程粘ってようやく動いた。やり方を記載しておく。</p>

<p>Raspberry Piには、Arch Linuxが載っている前提です。</p>

<h3 id="参考になるページ">参考になるページ</h3>

<p><a href="https://github.com/notro/fbtft/wiki">notroさんのfbtftに関するWiki</a>。本当に感謝。Great。<br>
ただ、ここに書いてある手順を踏んだだけではうまく動かなかった。<br>
以下、顛末と動かすまでの手順。</p>

<h4 id="rpi-updateが使える状態にする">rpi-updateが使える状態にする</h4>

<p>以下、Raspberry Pi上でのコマンド入力。<br>
以下のコマンドでrpi-updateを取得＆実行可能権限付与。</p>

<p><code>$ wget https://raw.github.com/Hexxeh/rpi-update/master/rpi-update</code><br>
<code>$ chmod +x ./rpi-update</code></p>

<p>rpi-updateは適当な場所に移しておく。パスが通っているところに置いておくと便利。<br>
以下、rpi-updateがある場所にパスが通っている前提で記載。</p>

<h3 id="rpi-updateを使ってkernelをアップデート">rpi-updateを使ってKernelをアップデート</h3>

<p>FBTFTドライバがビルトインされているとされるバージョンにしてみる。</p>

<p><code>$ sudo -E REPO_URI=https://github.com/notro/rpi-firmware BRANCH=builtin rpi-update</code></p>

<p>なんやかや起こったあと、リブート。</p>

<p><code>$ sudo reboot</code></p>

<p>これでFBTFTドライバが準備オッケーになっているはず、なのだが…？</p>

<h3 id="fbtft_deviceがない"><del>fbtft_deviceがない</del></h3>

<p><del>fbtft_deviceを有効にするために、modprobeしてみる。</del></p>

<p><code>$ sudo modprobe fbtft_device name=adafruit22</code></p>

<p><del>すると帰ってきた答えは、</del></p>

<p><code>FATAL: Module fbtft_device not found.</code></p>

<p><del>とのこと。実際に探してみたところ、fbtft_device.koというモジュールは存在していない様子。</del></p>

<hr>

<p><strong>2014/07/23/Wed 訂正</strong></p>

<p>結論から言うと上記の挙動であっていた。<br>
<code>BRANCH=builtin</code>を選択した場合はfbtft_deviceがloadableなモジュールとして現れない、<br>
つまり modprobe で見つからないと言われるのは正しかった。</p>

<p>上記の状態で、あとは /boot/cmdline.txt に然るべき内容を追記するだけでOK。<br>
その後PiTFTを接続し、Raspberry Piを再起動すれば画面に何か映るはず。</p>

<p>よって以下の手順はすべて無駄であるが、<br>
以下の手順が誤りであることを示すために残しておく。。</p>

<p>以下、無駄な手順メモ。全く不要。</p>

<hr>

<h3 id="いろいろやってfbtft_deviceを用意する"><del>いろいろやってfbtft_deviceを用意する</del></h3>

<p><del>fbtft_deviceを求めて色々さまよったところ、上述のKernelアップデートの際に、</del></p>

<p><code>sudo REPO_URI=https://github.com/notro/rpi-firmware rpi-update</code></p>

<p><del>とビルトインではなく、loadable moduleとしてfbtft_deviceが現れるやつをチョイスしてみたところ、</del><br>
<code>sudo modprobe fbtft_device name=adafruit22</code>がnot foundではなく、別のエラーになった。<br>
<del>探してみたところ、実際にモジュールは存在した。ただし正常にmodprobeできていない。</del></p>

<p><del>FBTFTのモジュールは、</del><br>
<code>/lib/modules/$(uname -r)/kernel/video/fbtft</code><br>
<del>に置かれている。これをどこか別の場所にコピーしておく。後々使う。</del></p>

<h3 id="rpi-updateを使ってfbtftビルトインバージョンに戻す"><del>rpi-updateを使ってFBTFTビルトインバージョンに戻す</del></h3>

<p><del>上で一回やってるやつをやって、FBTFTビルトインバージョンのKernelに戻す。</del></p>

<p><code>$ sudo -E REPO_URI=https://github.com/notro/rpi-firmware BRANCH=builtin rpi-update</code><br>
<code>$ sudo reboot</code></p>

<h3 id="戻したのち、コピーしておいたfbtftを所定の位置に戻す"><del>戻したのち、コピーしておいたfbtftを所定の位置に戻す</del></h3>

<p><code>/lib/modules/$(uname -r)/kernel/video/fbtft</code>~~の位置に戻す。~~</p>

<h3 id="depmodする。"><del>depmodする。</del></h3>

<p><code>sudo depmod -a</code></p>

<h3 id="fbtft_deviceをmodprobeする"><del>fbtft_deviceをmodprobeする</del></h3>

<p><del>not foundとは言われなくなり、ちゃんとロードされる。はず。</del></p>

<h3 id="あとはnotroさんのところの手順に従う">あとはnotroさんのところの手順に従う</h3>

<p>/boot/cmdline.txtであるとか、もろもろ変更する。<br>
PiTFTはきっと動き出す。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/10/raspi-photo-during-streaming/">RaspberryPiで動画を配信しながら写真も撮る</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-10T21:49:47+09:00" pubdate data-updated="true">Jun 10<span>th</span>, 2014</time>
        
           | <a href="/blog/2014/06/10/raspi-photo-during-streaming/#disqus_thread"
             data-disqus-identifier="http://pankona.github.io/blog/2014/06/10/raspi-photo-during-streaming/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Raspberry Pi＋カメラモジュールを使って、<br>
- 映像をWebページで配信しつつ。<br>
- いま写してる絵を保存する（写真を撮るみたいな）。写真を撮るボタンもWebページに備える。<br>
- 撮った写真はRaspberry Piにとりあえず保存しておいて、Webページ越しに確認できる。<br>
というのをやってみた。<br>
例によっていくつか躓いた点があるので、備忘録的に記しておく。</p>

<h3 id="raspistillでの静止画撮影とmjpg-streamerでの動画配信は同時に行えない？">raspistillでの静止画撮影とmjpg-streamerでの動画配信は同時に行えない？</h3>

<p>どうやらそのようである。最初は、<br>
「Webページ上にボタンを用意し、押されたら <code>raspistill</code> コマンドを発行する。」というやり方でやろうと思ったので当てが外れた感じ。<br>
mjpg-streamerで動画を配信する状態になっている状態でraspistillコマンドを実行すると、エラーが吐かれてしまってうまくいかない。<br>
mjpg-streamerにカメラデバイスを専有されてしまっているとか、そういう雰囲気でうまくいかないんだろうと予想。</p>

<h3 id="mjpg-streamerのsnapshot機能を使う">mjpg-streamerのsnapshot機能を使う</h3>

<p>ではどうするかと言うと、mjpg-streamerには静止画を撮影する機能があるので、これを使ってみた。<br>
<a href="https://code.google.com/p/mjpg-streamer/">mjpg-streamerのプロジェクトのページ</a>に少しサンプルがあって、例えば、mjpg-streamerを動作させている状態でもって、<br>
<code>http://[Raspberry PiのIPアドレス]:8080/?action=stream</code> というURLにアクセスすれば動画配信になり、<br>
<code>http://[Raspberry PiのIPアドレス]:8080/?action=snapshot</code> というURLにアクセスすれば、静止画の撮影になる。<br>
これらは、同時に行うことができる。つまり、これをうまく使えば動画を配信しながら静止画の撮影ができるのでは、と。</p>

<h3 id="wgetで画像を保存する">wgetで画像を保存する</h3>

<p>Webページ上にボタンを用意しておくところまでは同じで、ボタンが押されたら <code>raspistill</code> の代わりに、<code>wget</code> を発行する。<br>
例） <code>wget -O /tmp/picture.jpg http://[Raspberry PiのIPアドレス]:8080/?action=snapshot</code><br>
上記の例では、/tmp/picture.jpgという名前でmjpg-streamerが出力している動画のスナップショットが保存される。<br>
なので一応、動画配信しながら写真を撮る、という目的は達成できた。</p>

<p>できた、が、、、<br>
動画配信中の画像をそのまま静止画にするだけなので、例えば静止画の画質を動画のものより良くする、とか、画像サイズを変更する、アス比を変更する、とかできない。<br>
あくまで動画を一枚切り取っただけ、という感じ。まあ及第点か。。</p>

<h3 id="撮った画像を確認するためにrailsアプリを作った">撮った画像を確認するためにRailsアプリを作った</h3>

<p>Raspberry PiでRailsなんてどうなのか。でもちょっと作ってみた。<br>
目下作り途中だが。とりあえず動いてるのを見るのは楽しい。<br>
<a href="https://github.com/pankona/raspi_camera_server">https://github.com/pankona/raspi_camera_server</a></p>

<ul>
<li>あらかじめmjpg-streamerを起動した状態で、上記Railsアプリを動かす</li>
<li>Railsアプリに何かからアクセスすると、動画が配信されている状態を確認できる</li>
<li>動画をクリックすると、スナップショットが保存される。</li>
<li>保存されたスナップショットは、動画下部に小さく表示される。</li>
</ul>

<p>みたいなもの。テスト書いたりして改善していこう。。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/29/rails-on-raspi/">Raspberry PiでRailsを動かしてみたときのこと</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-29T21:02:35+09:00" pubdate data-updated="true">May 29<span>th</span>, 2014</time>
        
           | <a href="/blog/2014/05/29/rails-on-raspi/#disqus_thread"
             data-disqus-identifier="http://pankona.github.io/blog/2014/05/29/rails-on-raspi/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Raspberry PiにRailsを入れたときのこと。<br>
あまりすんなりとはいかなかったので、つまづいたところなんかをメモ。<br>
（ちなみにRaspberry Piで動いているOSはArch Linuxです。）</p>

<h2 id="第一の関門-railsのインストール">第一の関門 Railsのインストール</h2>

<p>Raspberry Piにsshで接続し、<code>gem install rails</code> とやるだけでRailsのインストールが始まる。<br>
簡単、、、なのだがこれがなかなか終わらない。しかしこれはただ単純に待てばいいので難しいことは何もない。<br>
終わるまで3時間程度。</p>

<p>sshで接続してる場合、ほっとくとタイムアウトしてしまうと思われる。<br>
その場合は、screen というので対策できる。nohup というのもある。<br>
とにかく長時間放置でタイムアウトしちゃってもいい（ログアウトしちゃってもいい）対策は必要。</p>

<h2 id="第二の関門-bundle-install">第二の関門 bundle install</h2>

<p>Railsアプリを動かす前準備で <code>bundle install</code> 。やると思います。<br>
これがまた死ぬほど時間かかる上に、インストール中に、</p>

<p>killed</p>

<p>とだけ出て終了しちゃう。当然だが bundle install は終わってない。<br>
こっちのが問題だった。</p>

<h3 id="killed-されちゃうのはメモリ不足のため">killed されちゃうのはメモリ不足のため</h3>

<p>bundle install で Killed になっちゃうのは、メモリ不足のための模様。<br>
これは、スワップ領域を設定してあげることで回避できた。<br>
スワップ領域設定の方法については、例によってArch LinuxのWikiを参照した。<br>
何でも載ってるね！ちなみ参照したページは<a href="https://wiki.archlinux.org/index.php/Swap_(%E6%97%A5%E6%9C%AC%E8%AA%9E)">これ - Swap （日本語） - ArchWiki</a>。</p>

<h3 id="killed-されなくなったけど、、、超時間かかる">killed されなくなったけど、、、超時間かかる</h3>

<p>killed されなくなったのはいいけど、Railsのインストールのときと同じく、やたら時間がかかる。。。<br>
9000秒くらいかかったので、実に3時間弱くらい。</p>

<p>なんで時間かかるかというと、まず、 <strong>therubyracer</strong> をインストールしようとしてるのが原因。<br>
これ自体はいれたかったのでいいんだけど、どうやらこいつを入れるのに伴って、 <strong>libv8</strong> というのが入る模様。<br>
そんでこれがどうやら <strong>ソースとってきてビルドしている</strong> ようなのである。Raspberry Piになんてことさせるんや。。。<br>
最近の割とパワーのあるPCなら10分程度で終わるらしいのだが。</p>

<h2 id="まとめると">まとめると</h2>

<p>RailsをRaspberry Piにインストールするためには、</p>

<ul>
<li>スワップ領域を拡大する（bundle install 中に killed されちゃうならば）</li>
<li>あとはひたすら待つ。トータルで6時間くらい待つ。</li>
</ul>

<p>ちなみにRailsの起動がまたすっとろい。webrickじゃなくてthinにするとちょっとだけ早くなる気がする、とか。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/28/use-uim-mozc/">日本語入力のための設定メモ for Arch Linux</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-28T07:49:23+09:00" pubdate data-updated="true">May 28<span>th</span>, 2014</time>
        
           | <a href="/blog/2014/05/28/use-uim-mozc/#disqus_thread"
             data-disqus-identifier="http://pankona.github.io/blog/2014/05/28/use-uim-mozc/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>IMはずっとibusを使ってきたのだが、なかなか設定に融通が効かないというか、なんというか。<br>
具体的な要望としては、</p>

<ul>
<li>mozcを使いたい</li>
<li>Alt + Space でIMEを切り替えたい（Direct Inputと日本語入力をトグルする）</li>
</ul>

<p>という二点なのだが、後者の「Alt + Space」というキーバインドを設定する方法がわからず。。。<br>
きっとやり方があるというか、いままでごまかしごまかしやってきたのだが、<br>
ついに気持ち悪さが先に立って、「やめてやるわ！」となったところ。</p>

<p>で、IMとしてUIMを使ってみた。uim-mozc。<br>
そしたらいともたやすく Alt + Space でのトグルが設定できちゃったもんだから拍子抜けというか。<br>
はじめからこれ使ってれば良かったね！しばらくこれでいきます。uim-mozc。</p>

<p>備忘録的に、設定方法のメモ。<br>
Arch Linux向けです。</p>

<h2 id="基本的にはwiki参照">基本的にはWiki参照</h2>

<p>ブログに書いた内容というのはいずれ時代遅れになるので、、、<br>
やはり、Arch Wikiの<a href="https://wiki.archlinux.org/index.php/Input_Japanese_using_uim_(%E6%97%A5%E6%9C%AC%E8%AA%9E)">uim-mozcの設定方法</a>を参照するのが確実。<br>
うちもこれでいけた。</p>

<h2 id="インストールしたパッケージ">インストールしたパッケージ</h2>

<ul>
<li>uim</li>
<li>uim-mozc</li>
</ul>

<h2 id="設定箇所">設定箇所</h2>

<ul>
<li>.xinitrc の記載</li>
</ul>

<p>.xinitrcに以下を追記。uimを使う設定ですな。</p>

<figure class='code'><figcaption><span>.xinitrc</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># uim</span>
</span><span class='line'><span class="nb">export </span><span class="nv">GTK_IM_MODULE</span><span class="o">=</span><span class="s1">&#39;uim&#39;</span>
</span><span class='line'><span class="nb">export </span><span class="nv">QT_IM_MODULE</span><span class="o">=</span><span class="s1">&#39;uim&#39;</span>
</span><span class='line'>uim-xim &amp;
</span><span class='line'><span class="nb">export </span><span class="nv">XMODIFIERS</span><span class="o">=</span><span class="s1">&#39;@im=uim&#39;</span>
</span></code></pre></td></tr></table></div></figure>

<h2 id="uimの設定">uimの設定</h2>

<p><code>uim-pref-gtk</code>で設定画面を出し、色々設定する。</p>

<ul>
<li>「Global settings」の設定。</li>
</ul>

<p>&#8211; Specify Default IMにチェックを入れる。<br>
  &#8211; Default input method を Mozc にする。</p>

<ul>
<li>「Mozc」の設定。</li>
</ul>

<p>&#8211; Default Input modeはDirect Inputに。<br>
  &#8211; ついでにVIM協調モードも有効にしておく。</p>

<ul>
<li>「Mozc key bindings」の設定。</li>
</ul>

<p>&#8211; [Mozc] on/off、両方に&quot;&lt;Alt&gt;space&quot;を設定。</p>

<h3 id="ここまでで">ここまでで</h3>

<p>Alt + Space でDirect Inputと日本語入力がトグルできるようになった。<br>
チャンスがあれば、他のIMも試してみよっかな。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/19/about-google-search/">Google Japanの検索にgithubがヒットしないかと思ったがそんなことはなかった</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-19T21:21:34+09:00" pubdate data-updated="true">May 19<span>th</span>, 2014</time>
        
           | <a href="/blog/2014/05/19/about-google-search/#disqus_thread"
             data-disqus-identifier="http://pankona.github.io/blog/2014/05/19/about-google-search/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2 id="自分のページがgoogle検索にヒットしない理由">自分のページがGoogle検索にヒットしない理由</h2>

<p>なかなか自分のページ（ここのブログのこと）がGoogle検索に引っかからないので、<br>
いや、大層なことを書いているわけでもないから引っかからなくても怒ったりはしないが、<br>
いやでもなんで引っかからないんだろう、と思って調査をしていたところ、</p>

<h3 id="githubのリポジトリはgoogle日本の検索に引っかからない">GithubのリポジトリはGoogle日本の検索に引っかからない</h3>

<p>といった記事を見つけた。ほんまかいな？<br>
もしかしてそのせいでうちのページはGoogleに引っかからないんじゃああるまいか？<br>
（Github pagesを使って公開しているページなので）</p>

<p>等と考えつつ、調査を続行していったところ、、、</p>

<h3 id="結論からすると、githubのリポジトリはgoogle日本の検索にちゃんと引っかかる。">結論からすると、GithubのリポジトリはGoogle日本の検索にちゃんと引っかかる。</h3>

<p>ただし条件がある模様。それは（おそらく）、</p>

<p><strong>ページ（リポジトリの場合はREADMEかな？）に日本語が含まれていること</strong></p>

<p>つまり、Google日本の検索に引っかからない、というよりは、<br>
<strong>&quot;日本語のページを検索&quot;</strong>に引っかからない、ということである模様。<br>
全編英語で書いてたら英語のページと判断して、&quot;日本語のページを検索&quot;には載せない、ってことかなー。<br>
そして、Google日本の検索は、おそらくデフォルトは&quot;日本語のページを検索&quot;になってる。という話。</p>

<p>加えて、GithubのリポジトリのREADMEなんかは、英語だけで書かれているケースが多い。<br>
だからGoogle日本を使ってそのまま検索をしていると、Githubのページがあんまり出てこないという現象が。</p>

<p>だので、英語だけで書かれたGithubのページも、検索オプションで言語に依らない検索にしてあげれば、Google日本の検索でも出てきます。</p>

<h3 id="じゃあ日本の人にもリポジトリにリーチしてもらうにはどうするか？">じゃあ日本の人にもリポジトリにリーチしてもらうにはどうするか？</h3>

<p>自分のGithubのリポジトリに日本人を呼び込みたい！と思ったら、READMEに日本語をちょっと混ぜてあげればリーチできる人が増えるかも？<br>
と思っているがどうか。たぶん、おそらく、きっと、効果あると思われる。つまり自信ない。<br>
自分のリポジトリ使って実験してみます。そのうち調査結果を書きます。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/15/vaio-pro-palm-detect-on-archlinux/">Vaio Pro 13における手のひら検知 on Arch Linux</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-15T12:25:25+09:00" pubdate data-updated="true">May 15<span>th</span>, 2014</time>
        
           | <a href="/blog/2014/05/15/vaio-pro-palm-detect-on-archlinux/#disqus_thread"
             data-disqus-identifier="http://pankona.github.io/blog/2014/05/15/vaio-pro-palm-detect-on-archlinux/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Vaio Pro 13にArch Linuxを入れて遊んでいる近頃である。<br>
概ね快適なLinuxライフを過ごせているのだが、一個だけ非常に不満な点がある。<br>
それは「タッチパッドの手のひら検知」。パームディテクト、Palm Detection、等と呼ばれる機能。</p>

<h3 id="手のひら検知？">手のひら検知？</h3>

<p>もはや手のひら検知について触れる必要もなさそうだが、一応。</p>

<p>Vaio Pro 13のタッチパッドはなかなか大きい。<br>
これは最近のノートPC、MBPとか他のUltraBookにも採用されていて流行と言ったら流行。<br>
これ自体は割と私は好みで、二本指、三本指でのスワイプなんかもやりやすくてなかなかいい。</p>

<p>ただ大きいタッチパッドには弊害もあって、キーボードを打ってるときに親指の付け根のあたりで触れちゃうってこと。<br>
触れちゃうとどうなるかっていうと、クリックした扱いになってしまって、つまりカーソルが飛ぶ。<br>
編集中に予期せぬ場所にカーソルが飛んでしまって、あれ、これどうなった、みたいなことになる。</p>

<p>それを解決してくれるのが、手のひら検知の仕組み。<br>
つまり意図したタッチでないと思われるものは無視してくれるというやつで、考えた人凄いと思います。</p>

<h3 id="arch-linux-on-vaio-pro-13の場合">Arch Linux on Vaio Pro 13の場合</h3>

<p>件の手のひら検知を有効にする仕組みがある（デフォルトではオフ）。<br>
synclient、PalmDetect、あたりでぐぐると結構出てくる。具体的には、<br>
<code>synclient PalamDetect=1</code> とかってやって手のひら検知を有効にする。する、のだが。</p>

<p>なんか全然効いてない気がするんですけど・・・。ということで調べてみた。<br>
ほんとに効いてるのかどうかを。</p>

<h3 id="結論からいうと効いてなかった">結論からいうと効いてなかった</h3>

<p>効いてなかったです。ちくしょうめ。やっぱりか。</p>

<p>ドライバのソースコードに簡単にログを仕込んで確認してみたところ、やっぱり効いてなかった。<br>
Arch Linuxでタッチパッドのドライバーは、Synapticsが使われている（というか大体どこでもSynapticsか）。<br>
ソースコードはこれ。Githubに公開されている。<a href="git:anongit.freedesktop.org/xorg/driverxf86-input-synaptics">xf86-input-synaptics</a></p>

<p>なんで効かないかと言うと、の前に、ソースコードからどうやって手のひら検知をしているかを調べてみたのでそれをメモ。</p>

<h3 id="どうやって手のひら検知している？">どうやって手のひら検知している？</h3>

<p>以下の3要素を考慮して手のひら検知としている模様。</p>

<ul>
<li>PalmDetectの設定が有効になっているか（synclient PalmDetect=1 で有効になるやつ）</li>
<li>PalmMinZがしきい値を超えているか（これも synclient PalmMinZ=XXX で設定できる）</li>
<li>PalmMinWidthがしきい値を超えているか（これも synclient PalmMinWidth=XXX で設定できる）</li>
</ul>

<p>PalmMinZ は、どれくらい深く（強く？）タッチパッドが押されたら手のひらと判断するか、のしきい値。<br>
PalmMinWidth は、タッチの広さを見ていて、太すぎる指は手のひらとみなしましょう、という判断のためのしきい値。</p>

<h3 id="arch-linux-on-vaio-pro-13-が手のひら検知をしてくれない理由">Arch Linux on Vaio Pro 13 が手のひら検知をしてくれない理由</h3>

<p>上記のしきい値のうち、どうやらPalmMinWidthのほうがおかしいっぽくて、<br>
どんな触り方をしても常に「0」で判定されてしまっている模様。<br>
ちなみに、SynapticsはPalmMinWidthが0のときは手のひらとして判断しないように実装されている。<br>
なので、PalmDetect、PalmMinZ、PalmMinWidth、どれをどの値にしても手のひら検知は効かないということである。ちくしょうめ。</p>

<h3 id="どうすれば解決するのか？">どうすれば解決するのか？</h3>

<h4 id="palmminwidthを正しく判定させる方法">PalmMinWidthを正しく判定させる方法</h4>

<p>調査をしているが今のところわからない。。一般ピープルに手が及ぶ範囲なのかどうか。</p>

<h4 id="それ以外の対処法？">それ以外の対処法？</h4>

<p>PalmMinWidthはもう一切判断に含めないようにソースコードを書き換えてみたが、、、<br>
それってつまりタッチ深度だけで手のひらを検知するということであって、それはまあ微妙な感じ。</p>

<h4 id="つまり">つまり</h4>

<p><strong>残念ながら、手のひら検知がいまいちな件は解決できていない。</strong>なんとかする方法の調査はTo Be Continuedである。<br>
デュアルブートしているWindowsの側ではできているっぽいので、Arch Linux側でも出来ないことないと信じて。</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/3/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>About Me</h1>
  
    <img src="http://www.gravatar.com/avatar/20c3394adc3ea5485023625de24b8486" alt="Gravatar of pankona " title="Gravatar of pankona" align="left" style="margin-right:10px;" />
  
  名前はpankonaです。Arch Linux on Vaio Pro 13で日々遊んでます。Octopressはvimで編集。西武新宿線ユーザ。Go 言語好き。ソフトウェアエンジニアやってますたぶん。
  <br clear="left">
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/04/18/atte-fes/">Atte fes@Mercari</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/03/31/z370c-bad-point/">ASUS ZenPad 7.0 (Z370C) レビュー その三 : イマイチなところ編</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/03/29/z370c-good-point/">ASUS ZenPad 7.0 (Z370C) レビュー その二 : 良いところ編</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/03/29/z370c-appearance/">ASUS ZenPad 7.0 (Z370C) レビュー その一 : 見た目編</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/07/31/code-review-best-practices-jp-translation/">Code Review Best Practices を日本語訳した</a>
      </li>
    
  </ul>
</section>




<section>
  <h1>Tag Cloud</h1>
    <span id="tag-cloud"><a href='/blog/categories/archlinux' style='font-size: 134.28571428571428%'>ArchLinux(4)</a> <a href='/blog/categories/cocos2d-x' style='font-size: 125.71428571428572%'>cocos2d-x(3)</a> <a href='/blog/categories/octopresskasutamaizu' style='font-size: 134.28571428571428%'>Octopressカスタマイズ(4)</a> <a href='/blog/categories/raspberrypi' style='font-size: 160.0%'>RaspberryPi(7)</a> <a href='/blog/categories/sofalseta' style='font-size: 134.28571428571428%'>その他(4)</a> <a href='/blog/categories/gazietuto' style='font-size: 125.71428571428572%'>ガジェット(3)</a> </span>
</section>
<section>
  <h1>Categories</h1>
    <ul id="category-list"><li><a href='/blog/categories/archlinux/'>ArchLinux (4)</a></li><li><a href='/blog/categories/cocos2d-x/'>cocos2d-x (3)</a></li><li><a href='/blog/categories/octopresskasutamaizu/'>Octopressカスタマイズ (4)</a></li><li><a href='/blog/categories/raspberrypi/'>RaspberryPi (7)</a></li><li><a href='/blog/categories/sofalseta/'>その他 (4)</a></li><li><a href='/blog/categories/gazietuto/'>ガジェット (3)</a></li></ul>
</section>
<section>
<a href="http://bookmeter.com/u/508456" title="pankonaの最近読んだ本"><img src="http://img.bookmeter.com/bp_image/640/509/508456.jpg" border="0" alt="pankonaの最近読んだ本"></a>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - pankona -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'pankona-mcm';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
